---
layout:     post
title:      "js基础"
subtitle:   " \"温故而知新\""
date:       2019-02-26 22:00:00
author:     "huan"
header-img: "img/ArticleBg/post-bg-js-version.jpg"
catalog: true
tags:
    - JavaScript

---





# js基础



### 1.数据类型

**值类型**(基本类型)：字符串（**String**）、数字(**Number**)、布尔(**Boolean**)、对空（**Null**）、未定义（**Undefined**）、**Symbol**（ES6 引入了一种新的原始数据类型，表示独一无二的值。 ）。 

**引用数据类型**：对象(**Object**)、数组(**Array**)、函数(**Function**)。 

由于`js`中的变量是松散类型的，所以它提供了一种检测当前变量的数据类型的方法，也就是**typeof**关键字. 

例：

|                    | 输出      | 注释                                                         |
| ------------------ | --------- | ------------------------------------------------------------ |
| typeof (123)       | number    | 数字                                                         |
| typeof ('abc')     | string    | 字符串                                                       |
| typeof (true)      | boolean   | 布尔类型                                                     |
| typeof (undefined) | undefined | 未定义，**undefined派生于null**，因此在使用'=='进行比较时会返回true；所以没有必要将变量声明undefined，声明空对象时应将其赋值为null: **var x=null**; |
| typeof(Symbol())   | symbol    | ES6                                                          |
| typeof (null)      | object    | 这里值得注意：**null类型被当做一个空对象引用**               |
| typeof ({ })       | object    | 对象                                                         |
| typeof ([ ])       | object    | 数组对象                                                     |

typeof (Array) || typeof (Object) || typeof (Number ) || typeof (Boolean ) || typeof(String ) ||  

typeof(Function) || typeof(Date)  || typeof(Symbol)     //function   **这些是js中的内置对象，都是构造函数**



### 2.变量



####  声明

1.显式声明：    var 变量名=123;

2.陋习： 没有类型，重复声明，隐式声明，不声明直接赋值

3.正解：先声明，后读写；先赋值，后运算



#### 变量类型：

**1.值类型**：

1. 占用空间固定，保存在**栈**中
2. 保持与复制的是值本身
3. 使用**typeof**检查数据的类型
4. 基本类型数据是值类型

**2.引用类型**：

1. 占用空间不固定，保存在**堆**中
2. 保存与复制的是指向对象的一个指针
3. 使用**instanceof**检测数据的类型
4. 使用new()方法构造出的对象是引用类型



#### 作用域

**特别注意的就是在JS里面只有方法有作用域。for 和 if 等里面都没有作用域**

1.全局变量

​	定义：在函数外定义的变量或者函数体内定义的无var的变量都是全局变量

​	调用：任何位置都可调用

2.局部变量

​	定义：在函数内部使用`var`声明的变量或函数的参数变量

​	调用：当前函数体内部

3.优先级

​	同名局部变量 > 同名参数变量 > 同名全局变量

4.特性

- 忽略块级作用域
- 全局变量是全局对象的属性（window是全局对象）
- 作用域链：内层函数可访问外层函数局部变量；外层函数不能访问内层函数局部变量。
- 生命周期：
    全局变量（除非被显式删除，否则一直存在）；
    局部变量（自声明起至函数运行完毕或被显式删除）；
    回收机制（标记清除，引用计数）；



### 3.运算符



#### 算术运算符：

​	运算符：`+`、`-`、`*`、`/`、`%`
​	复合赋值运算符： `+=`、`-=`、`*=`、`/=`、`%=`



#### 自增和自减：

​	功能相反

​		`++`：对唯一的运算进行递增操作（每次加1）

​		`--`：对唯一的运算进行递减操作（每次减1）
​	规则相同：

​		运算数必须是一个变量、数组的一个元素或者对象的属性

​		如果运算数是非数值则运算符会将它转成数值

​	符号位置决定运算结果：

​		运算数之前：先进行递增（递减）操作，再进行求值

​		运算数之后：先求值，再进行递增（递减）操作



#### 关系运算符：

​	大小关系检测：

​		运算符：`<`、`<=`、`>`、`>=`

​	**等值关系检测**：

​		**相等比较：**

​			操作符：

​				`==`：比较两个运算数的返回值看是否相等

​				`!=`：比较两个运算数的返回值是否不相等

​			类型转换：

​				布尔值：true -> 1		false -> 0

​				对象：调用valueOf()	->	基本类型

​			**字符串与数值的比较：字符串转换为数值**

​		比较原则：

​			`null`与`undefined`，相等，比较前不进行任何转换

​			`NaN`，与任何数值都不相等包括其自身

​			对象，是否属于同一对象，是（==），否（!=）

​		**相同比较：**

​			运算符：

​				`===`：比较两个运算数的返回值及**数据类型** 是否相同

​				`!==`：比较两个运算数的返回值及**数据类型** 是否不同

​			比较原则：

​				值类型比较：只有数据类型相同，且数值相等时才能够相同

​				值类型与引用类型比较：肯定不相同

​				引用类型间比较：比较他们的引用值（内存地址）



#### 对象运算符：

- `in`：判断左侧运算数是否为右侧运算数的成员。
- **`instancesof`：判断对象实例是否属于某个类或构造函数。**
- `new`：根据构造函数创建一个新的对象，并初始化该对象。
- `delete`： 删除指定对象的属性，数组元素或变量。
- `.`及`[]`：存取对象和数组元素。
- `()`：函数调用，改变运算符优先级等。



#### 逻辑运算符：

- `!`逻辑非：
  ​	返回值：true	
  ​			`!`空字符串
  ​			`!`0
  ​			`!`null
  ​			`!`NaN
  ​			`!`undefined
  ​	返回值：false
  ​			`!`对象
  ​			`!`非空字符串
  ​			`!`非0数值（Infinity）
  ​	特性：
  ​		如果运算数的值为false，则返回true，否则返回false
  ​		连续使用两次`!`，可将任意类型转换为布尔型值

- `&&`逻辑与：
  ​       特性：当且仅当两个运算符的值都是true时，才返回true，否则返回false
  ​       **短路操作：当第一个操作数的值为false则不再对第二个操作数进行求值（取假）**

- `||`逻辑或：
  ​       特性：当且仅当两个运算数的值都是false时，才返回false，否则返回true
  ​       **短路操作：当第一个操作数的值为true，则不会对第二个操作数进行求值（取真）**

- **短路操作可用做简单的 if 判断      常用**

  ​	

#### 其他运算符：

- `？`：条件运算符（三元表达式），简洁的 if else，例如   x==0 ? 'yes':'no';    **常用**
- `typeof`:类型判定运算符
- `,`：逗号，再一行语句中执行多个不同的操作
- `void`：舍弃运算数的值，返回undefined作为表达式的值



### 4.流程语句



#### 循环语句：

1. `while`
   ​	语法： while(条件表达式){		
   ​				循环执行代码段		
   ​		     };
   ​	特性：先检查条件，再执行循环；条件不满足则循环一次也不执行。
   ​	时机：一个动作被重复执行到满足某个条件时。
2. `do-while`
   ​        语法：do{
   ​                     循环执行的代码段
   ​                   }while(条件表达式);特性：
   ​        特性：先执行循环体，再进行条件判断；循环体内代码至少执行一次。
   ​        时机：希望一个动作至少被执行一次。
3. **`for`**  **常用**
   ​        语法：for(循环变量=初值；循环条件；递增/递减计数器){
   ​                          循环代码段
   ​                    }
   ​        时机：重复一个动作到一定次数时
4. **`for-in`**  用来遍历对象
   ​       语法：for(声明变量 in 对象){
   ​                       代码段
   ​                  }
   ​       作用：枚举对象属性
   ​       注意事项：循环输出的属性顺序不可预知；对象的值不能是null或undefined

​               

#### 跳转语句：

- `return`：终止函数体的运行，并返回一个值
- `break`：终止整个循环，不再进行判断
- `continue`：结束本次循环，接着去判断是否执行下次循环



#### 选择语句：

1. `if`   不详细写了
2. `switch`  也不写了


#### 异常处理语句

- `throw`：主动抛出异常
- `try`：指明需要处理的代码段
- `catch`：捕获异常
- `finally`：后期处理



### 5.DOM基础操作（文档对象模型，简称DOM）



#### 1.获取节点

​	**`document`**:

​			**`getElementById()`**

​				语法：document.getElementById('元素id')

​				功能：通过元素id获取节点

​			**`getElementByClass()`**
​				语法：document.getElementById('元素类名')

​				功能：通过元素class获取节点

​			**`querySelector()`**        **常用**

​				语法：document.querySelector('#id或者.类名')

​				功能：通过元素id或class获取节点

​			`getElementsByName()`

​				语法：document.getElementsByName('元素name属性')

​				功能：通过元素name属性获取所有对应的节点

​			`getElementsByTagName()`

​				语法：document.getElementsByTagName('元素标签')

​				功能：通过元素标签获取所有对应的节点

​	**节点指针：**

​			`firstChild`  功能：获取元素的首个子节点

​			`lastChild`    功能：获取元素的最后一个子节点

​			`childNodes`  功能：获取元素的子节点列表

​			`previousSibling`  功能：获取已知节点的前一个节点

​			`nextSibling`  功能：获取已知节点的后一个节点

​			`parentNode`  功能：获取已知节点的父节点



#### 2.节点操作

|                   | 语法                                                         | 功能                                   |
| ----------------- | ------------------------------------------------------------ | -------------------------------------- |
| **创建节点**      |                                                              |                                        |
| **createElement** | document.createElement(元素标签)                             | 创建元素节点                           |
| createAttribute   | document.createAttribute(元素属性)                           | 创建属性节点                           |
| createTextNode    | document.createTextNode(文本内容)                            | 创建文本节点                           |
| **插入节点**      |                                                              |                                        |
| appendChild       | appendChild(所添加的新节点)                                  | 向节点的子节点列表的末尾添加新的子节点 |
| inserBefore       | inserBefore(所要添加的新节点，已知子节点)                    | 在已知的子节点前插入一个新的子节点     |
| **替换节点**      |                                                              |                                        |
| replaceChild      | replaceChild(要插入的新元素，将替换的老元素)                 | 将某个子节点替换成另一个               |
| **复制节点**      |                                                              |                                        |
| cloneNode         | 需要被复制的节点.cloneNode(true/false)<br />true:复制当前节点及所有子节点<br />false:仅复制当前节点 | 创建指定节点的副本                     |
| **删除节点**      |                                                              |                                        |
| removeChild       | removeChild(要删除的节点)                                    | 删除指定节点                           |



#### 2.属性操作

|                          | 语法                                  | 功能                           |
| ------------------------ | ------------------------------------- | ------------------------------ |
| 获取属性:getAttribute    | 元素节点.getAttribute(元素属性名)     | 获取元素节点中指定属性的属性值 |
| 设置属性:setAttribute    | 元素节点.setAttribute(属性名，属性值) | 创建或改变元素节点的属性       |
| 删除属性:removeAttribute | 元素节点.removeAttribute(属性名)      | 删除元素中的指定属性           |



#### 3.文本操作

|                               | 功能                             |
| ----------------------------- | -------------------------------- |
| insertData(offset,string)     | 从offset指定的位置插入string     |
| appendData(string)            | 将string插入到文本节点的末尾处   |
| deleteAate(offset,count)      | 从offset起删除count个字符        |
| replaceData(off,count,string) | 从off将count个字符用string替代   |
| splitData(offset)             | 从offset起将文本节点分成两个节点 |
| substring(offset,count)       | 返回由offset起的count个节点      |



### 6.window对象（浏览器对象模型，简称BOM）

所有浏览器都支持 *window* 对象。它表示浏览器窗口。

所有 JavaScript 全局对象、函数以及变量均自动成为 window 对象的成员。

window是顶级对象。

全局变量是 window 对象的属性。

全局函数是 window 对象的方法。

甚至 HTML DOM 的 document 也是 window 对象的属性之一：

```javascript
window.document.getElementById("header");
//与此相同：
document.getElementById("header");
```



| window                     | 功能                                                         | 说明           |
| -------------------------- | ------------------------------------------------------------ | -------------- |
| **1.navigator 导航器对象** |                                                              |                |
| appCodeName                | 返回浏览器的代码名                                           |                |
| appName                    | 返回浏览器的名称                                             |                |
| appVersion                 | 返回浏览器的平台                                             |                |
| cookieEnabled              | 返回指明浏览器中是否启用cookie的布尔值                       |                |
| platform                   | 返回运行浏览器的操作系统平台                                 |                |
| userAgent                  | 返回由客户机发送服务器的user-agent头部的值                   |                |
| **2.screen 显示器对象**    |                                                              |                |
| availHeight                | 返回显示器屏幕的可用高度                                     |                |
| availWidth                 | 返回显示器屏幕的可用宽度                                     |                |
| height                     | 返回屏幕的像素高度                                           |                |
| width                      | 返回屏幕的像素高度                                           |                |
| colorDepth                 | 返回屏幕颜色的位数                                           |                |
| **3.history 历史对象**     |                                                              |                |
| **back()**                 | 返回前一个 URL                                               | 常用           |
| forward()                  | 返回下一个 URL                                               |                |
| **go()**                   | 返回某个具体的页面                                           | 常用           |
| **4.location 位置对象**    |                                                              |                |
| 属性：                     |                                                              |                |
| **hash**                   | 设置或返回从井号（#）开始的URL                               |                |
| **host**                   | 设置或返回主机名和当前URL的端口号                            |                |
| hostname                   | 设置或返回当前URL的主机名                                    |                |
| **href**                   | 设置或返回完整的URL                                          | 常用           |
| **pathname**               | 设置或返回URL的路径部分                                      |                |
| **port**                   | 设置或返回当前URL的端口号                                    |                |
| protocol                   | 设置或返回当前URL的协议                                      |                |
| **search**                 | 设置或返回从问号（?）开始的URL                               |                |
| 方法：                     |                                                              |                |
| assign(URL)                | 加载新的文档                                                 |                |
| **reload()**               | 重新加载当前页面                                             | 常用           |
| replace(newwURL)           | 用新的文档替换当前文档                                       |                |
| **5.document 文档对象**    |                                                              |                |
| 集合：                     |                                                              |                |
| anchors[]                  | 描点对象数组                                                 | ·              |
| images[]                   | 图片对象数组                                                 |                |
| links[]                    | 链接对象数组                                                 |                |
| forms[]                    | 表单对象数组                                                 |                |
| 属性：                     |                                                              |                |
| cookie                     | 设置或返回与当前文档有关的所有cookie                         |                |
| **domain**                 | 返回当前文档的域名                                           | 常用           |
| referrer                   | 返回载入当前文档的URL                                        |                |
| **title**                  | 返回当前文档的标题                                           | 常用           |
| URL                        | 返回当前文档的URL                                            |                |
| 方法：                     |                                                              |                |
| **open()**                 | 打开一个新的文档，并擦除就文档的内容                         |                |
| close()                    | 关闭文档输出流                                               |                |
| **write()**                | 向当前文档追加写入文本                                       | ·              |
| writeIn()                  | 与write()相同，在`<pre>`中会追加换行                         |                |
| **6.窗口控制**             |                                                              |                |
| moveBy：                   | 语法：moveBy(水平位移量，垂直位移量)                         |                |
|                            | 功能：按照给定像素参数移动指定窗口                           |                |
| moveTo                     | 语法：moveTo(x,y)                                            |                |
|                            | 功能：将窗口移动到指定的坐标(x,y)处                          |                |
| resizeBy                   | 语法：resizeBy(水平，垂直)                                   |                |
|                            | 功能：将当前窗口改变指定的大小(x,y)                          |                |
| resizeTo                   | 语法：resizeTo(水平宽带，垂直宽度)                           |                |
|                            | 功能：将当前窗口改变成(x,y)大小，x、y分别为宽度和高度        |                |
| scrollBy                   | 语法：scrollBy(水平位移量，垂直位移量)                       |                |
|                            | 功能：将窗口中的内容按给定的位移量滚动                       |                |
| scrollTo                   | 语法：scrollTo(x,y)                                          | 常用于置顶功能 |
|                            | 功能：将窗口中的内容滚动到指定位置                           |                |
| **7.打开关闭窗口**         |                                                              |                |
| open()                     | 语法：open('URL'，’窗口名称‘，’窗口风格‘)                    |                |
|                            | 功能：打开一个新的窗口，并在窗口中装载指定URL地址的网页      |                |
|                            | 窗口风格：height、width、left、top、location、menubar、resizable、scrollbars、status、toolbar | 具体百度       |
| close                      | 语法：close()                                                |                |
|                            | 功能：自动关闭浏览器窗口                                     |                |
|                            |                                                              |                |
| **8.定时器**               | **（可用于倒计时、节流防抖、轮询等场景）**                   | **常用**       |
| `setTimeout`               | 语法：setTimeout(执行代码，毫秒数)                           |                |
|                            | 功能：当到了指定的毫秒数，自动执行功能代码                   |                |
|                            | 特征：只执行一次                                             |                |
| `clearTimeout`             | 语法：clearTimeout(定时器)                                   |                |
|                            | 功能：取消由setTimeout()设置的定时器                         |                |
| `setInterval`              | 语法：setInterval(重复执行的代码，毫秒数)                    |                |
|                            | 功能：按指定周期重复执行功能代码                             |                |
|                            | 特征：重复执行                                               |                |
| `clearInterval`            | 语法：clearInterval(时间间隔器)                              |                |
|                            | 功能：取消由setInterval()设置的定时器                        |                |
| **9.对话框**               |                                                              |                |
| alert                      | 语法：alert('提示字符串')                                    |                |
|                            | 功能：弹出一个警告框，在警告框内显示提示字符串文本           |                |
| confirm                    | 语法：confirm('提示字符串')                                  |                |
|                            | 功能：显示一个确认框并在其显示提示字符串，当用户点击‘确定’时该方法返回true，点击‘取消’返回false |                |
| prompt                     | 语法：prompt('提示字符串','缺省文本')                        |                |
|                            | 功能：显示一个输入框，在输入框内显示提示字符串，在输入文本框显示缺省文本，并等待用户输入；当用户点击‘确定’按钮时，返回用户输入字符串，当点击‘取消’按钮时，返回null值 |                |
| **10.属性**                |                                                              |                |
| 状态栏                     | defaultStatus：改变浏览器状态栏的默认显示                    |                |
|                            | status：临时改变浏览器状态栏的显示                           |                |
| 窗口位置（非IE）           | screenX：声明窗口的左上角的X坐标                             |                |
|                            | screenY：声明窗口的左上角的Y坐标                             |                |
|                            | pageXOffset：声明当前文档向右滚动过的像素数                  |                |
|                            | pageyOffset：声明当前文档向下滚动过的像素数                  |                |
| 其他属性                   |                                                              |                |
|                            | opener：可以实现同域名下跨窗体之间的通讯；一个窗口要包含另一个窗体的openner |                |
|                            | closed：当前窗口关闭时返回true                               |                |
|                            | name：设置或返回窗口的名称                                   |                |
|                            | self：返回对当前窗口的引用                                   |                |



### 7.字符串函数



#### 查找方法：

​			字符串方法：

​					`charAt()`

​							功能：返回字符串中第n个字符

​					`charCodeAt()`

​							功能：返回字符串中第n个字符的编码

​					`fromCharCode()`

​							功能：根据字符编码创建字符串



​					charCodeAt()与fromCharCode() 互为反向操作



​			位置方法：

​					**`indexOf()`**         （与ES6的include() 功能类似）

​							从前向后检索字符串，看其是否含有指定子串**（常用）**

​							如含有，则返回子串首次出现的下标；否则，返回 -1

​					lastIndexOf()

​							从后向前检索字符串，看其是否含有指定子串

#### 匹配方法（常用）:

​			**`match()`**

​					**功能：找到一个或多个正则表达式的匹配**

​					参数：要进行模式匹配的正则表达式 或 非正则表达式

​					返回值：存放匹配结果的**数组**

​							有全局标记g：执行全局检索（找到，返回数组，否则返回null）

​							无全局标记g：执行一次匹配（找到，返回数组，否则返回null）

​			**`search()`**

​					**功能：检索字符串中与正则表达式匹配的子串**

​					参数：与match()相同

​					返回值：找到，字符串第一个与正则表达式相匹配的子串的起始位置；否则返回 -1

​					特性：忽略全局标记g和lastIndex()属性

​			**`replace()`**

​					**功能：替换一个与正则表达式匹配的子串**

​			**`split()`** 

​					功能：根据指定分隔符将字符串分割成多个子串，并返回**数组**

#### 操作方法：

​			拼接方法：`concat()`，功能与'+'相同，原始字符串的实际值未被真正修改

​			截取方法：

​					根据下标截取子串：

​							`slice()`  （常用）

​							`substring()`

​					根据长度截取子串：

​							`substr()`

​			空格处理：

​				`trim()` 清除前置及后缀空格 （常用）

​				`trimLeft()` 清除前置空格

​				`trimRight()`  清除后缀空格

​			比较方法：`localeCompare()`

​					功能：与原字符串进行比较的字符串

​					返回值：说明比较结果的数字

#### 编码方法：

​			字符串常规编码与解码：`escape()`    `unescape()`

​			URI字符串编码与解码： `encodeURI()`   `decodeURI()`

​			URI组件编码与解码： `encodeURIComponent()`    `decodeURIComponent()`

#### 转换方法：

​			大小写转换：

​					转为大写：`toUpperCase()`	`toLocaleUpperCase()` 本地

​					转为小写：`toLowerCase()`	`toLocaleUpperCase()` 本地

​			代码转换：用js动态格式化html，不具语义性



查看所有的**字符串**中的方法，可以在浏览器控制台输入 String.prototype 查看，如下图

![Snipaste_2019-03-04_14-26-50.png](https://i.loli.net/2019/03/04/5c7cc537d47bb.png)



### 8.数组







查看所有的**数组**中的方法，可以在浏览器控制台输入 Array.prototype 查看，如下图

![Snipaste_2019-03-04_14-28-21.png](https://i.loli.net/2019/03/04/5c7cc58f2f49a.png)





### 9.正则表达式





### 10.函数基础

##### 特别注意的就是在JS里面只有方法有作用域。for和if里面都没有作用域